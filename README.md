# üîê VLESS/REALITY VPN

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ VLESS VPN —Å REALITY (Xray-core) —á–µ—Ä–µ–∑ Docker.

**–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:**
```bash
git clone https://github.com/TBucTeP/VLESS_VPN.git
cd VLESS_VPN
make install-deps  # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
make install        # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ VPN
```

**–ì–æ—Ç–æ–≤–æ!** –°—Å—ã–ª–∫–∏ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ `output/clients.txt`

---

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–û–°**: Ubuntu 20.04+ / Debian 12+ (–∏–ª–∏ –ª—é–±–æ–π Linux —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Docker)
- **–ü—Ä–∞–≤–∞**: Root –¥–æ—Å—Ç—É–ø (sudo)
- **–ü–æ—Ä—Ç**: 443 (–∏–ª–∏ –¥—Ä—É–≥–æ–π, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ `.env`)
- **–ò–Ω—Ç–µ—Ä–Ω–µ—Ç**: –°—Ç–∞–±–∏–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è Docker –∏ –ø–∞–∫–µ—Ç–æ–≤

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/TBucTeP/VLESS_VPN.git
cd VLESS_VPN
```

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**

```bash
make install-deps
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
```bash
bash scripts/00-install-dependencies.sh
```

**–ß—Ç–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è:**
- ‚úÖ Docker + Docker Compose
- ‚úÖ make, jq, openssl, unzip, curl
- ‚úÖ UFW firewall (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: –ø–æ—Ä—Ç—ã 22, 443)

**–†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞):**

<details>
<summary>–ù–∞–∂–º–∏ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞</summary>

```bash
# Docker (Ubuntu 22.04+, Debian 12+)
curl -fsSL https://get.docker.com | sh

# –î–ª—è Ubuntu 20.04
apt-get update
apt-get install -y ca-certificates curl
install -m 0755 -d /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc
chmod a+r /etc/apt/keyrings/docker.asc
echo "deb [arch=amd64 signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu focal stable" > /etc/apt/sources.list.d/docker.list
apt-get update
apt-get install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin

# –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
apt install -y make jq openssl unzip curl

# Firewall
ufw allow 22/tcp
ufw allow 443/tcp
ufw --force enable
```

</details>

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ü–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ `.env`:

```bash
cp .env.example .env
nano .env
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```env
# SNI –¥–ª—è –º–∞—Å–∫–∏—Ä–æ–≤–∫–∏ (–¥–æ–º–µ–Ω Microsoft, Google –∏ —Ç.–¥.)
BAIT_SNI=www.microsoft.com

# –ü–æ—Ä—Ç –¥–ª—è VLESS (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 443)
LISTEN_PORT=443

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
CLIENTS_COUNT=10

# –ü—É–±–ª–∏—á–Ω—ã–π IP —Å–µ—Ä–≤–µ—Ä–∞ (–∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –µ—Å–ª–∏ –ø—É—Å—Ç–æ)
# SERVER_IP=
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ SNI:**
- `www.microsoft.com` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, —Ö–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç)
- `login.microsoftonline.com`
- `www.google.com`
- `cloudflare.com`
- `www.apple.com`

### –®–∞–≥ 4: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ VPN

```bash
make install
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∫–ª—é—á–∏ REALITY (–ø—Ä–∏–≤–∞—Ç–Ω—ã–π/–ø—É–±–ª–∏—á–Ω—ã–π)
2. –°–æ–∑–¥–∞—é—Ç—Å—è UUID –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
3. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∫–æ–Ω—Ñ–∏–≥ Xray
4. –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
5. –í—ã–≤–æ–¥—è—Ç—Å—è —Å—Å—ã–ª–∫–∏ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ö–æ–Ω—Ñ–∏–≥: `config/config.json`
- –°—Å—ã–ª–∫–∏: `output/clients.txt`
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: `xray-vless` (–∑–∞–ø—É—â–µ–Ω)

---

## üìñ –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `make install-deps` | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (Docker, –ø–∞–∫–µ—Ç—ã, firewall) |
| `make install` | –ü–æ–ª–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ VPN (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥–∞ + –∑–∞–ø—É—Å–∫) |
| `make init` | –¢–æ–ª—å–∫–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥–∞ (–±–µ–∑ –∑–∞–ø—É—Å–∫–∞) |
| `make up` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä Xray |
| `make down` | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä |
| `make restart` | –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä |
| `make logs` | –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ Xray (live) |
| `make status` | –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ –ø–æ—Ä—Ç–æ–≤ |
| `make diagnostics` | –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (–ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ–≥–æ) |

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `make list` | –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ |
| `make add` | –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ) |
| `make remove UUID=<uuid>` | –£–¥–∞–ª–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ UUID |

**–ü—Ä–∏–º–µ—Ä—ã:**
```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
make list

# –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞
make add

# –£–¥–∞–ª–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞
make remove UUID=c1a109e7-0d88-49ce-9c8d-0682cbba5d2d
```

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `make rotate-keys` | –†–æ—Ç–∞—Ü–∏—è –∫–ª—é—á–µ–π REALITY ‚ö†Ô∏è (–≤—Å–µ —Å—Å—ã–ª–∫–∏ —Å–º–µ–Ω—è—Ç—Å—è!) |
| `make change-sni SNI=<domain>` | –°–º–µ–Ω–∏—Ç—å SNI (–º–∞—Å–∫–∏—Ä–æ–≤–∫—É) |
| `make change-sid` | –°–º–µ–Ω–∏—Ç—å ShortID |

**–ü—Ä–∏–º–µ—Ä—ã:**
```bash
# –†–æ—Ç–∞—Ü–∏—è –∫–ª—é—á–µ–π (‚ö†Ô∏è –≤—Å–µ —Å—Ç–∞—Ä—ã–µ —Å—Å—ã–ª–∫–∏ –ø–µ—Ä–µ—Å—Ç–∞–Ω—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å!)
make rotate-keys
make restart
make list  # –ü–æ–ª—É—á–∏ –Ω–æ–≤—ã–µ —Å—Å—ã–ª–∫–∏

# –°–º–µ–Ω–∏—Ç—å SNI
make change-sni SNI=login.microsoftonline.com
make restart

# –°–º–µ–Ω–∏—Ç—å ShortID
make change-sid
make restart
```

### –û–ø–∞—Å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `make clean` | –£–¥–∞–ª–∏—Ç—å –≤—Å—ë (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä + –∫–æ–Ω—Ñ–∏–≥–∏) ‚ö†Ô∏è |

---

## üì± –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤

### iOS

#### Shadowrocket ‚≠ê (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è, –ø–ª–∞—Ç–Ω—ã–π)

**–°–ø–æ—Å–æ–± 1: –ò–º–ø–æ—Ä—Ç —Å—Å—ã–ª–∫–∏ (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π)**

1. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø–æ–ª—É—á–∏ —Å—Å—ã–ª–∫—É:
   ```bash
   make list
   ```
2. –°–∫–æ–ø–∏—Ä—É–π —Å—Å—ã–ª–∫—É –ø–æ–ª–Ω–æ—Å—Ç—å—é (–æ—Ç `vless://` –¥–æ `#VLESS-X`)
3. –û—Ç–∫—Ä–æ–π Shadowrocket
4. –ù–∞–∂–º–∏ **+** (–¥–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä)
5. –í—ã–±–µ—Ä–∏ **Import from Clipboard**
6. –ù–∞–∂–º–∏ **Save**
7. –í–∫–ª—é—á–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤–≤–µ—Ä—Ö—É

**–°–ø–æ—Å–æ–± 2: –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**

1. Shadowrocket ‚Üí **+** ‚Üí **Add Server**
2. –¢–∏–ø: **VLESS**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Address**: IP —Å–µ—Ä–≤–µ—Ä–∞ (–∏–∑ `make list`)
   - **Port**: `443` (–∏–ª–∏ –¥—Ä—É–≥–æ–π –∏–∑ `.env`)
   - **UUID**: –∏–∑ —Å—Å—ã–ª–∫–∏ (`make list`)
   - **Encryption**: `none`
   - **Flow**: `xtls-rprx-vision`
   - **Network**: `TCP`
   - **TLS**: `–í—ã–∫–ª—é—á–µ–Ω–æ`
   - **SNI**: `www.microsoft.com` (–≤ —Å–µ–∫—Ü–∏–∏ TLS)
   - **XTLS**: `xtls-rprx-vision` (–≤ —Å–µ–∫—Ü–∏–∏ XTLS)
   - **–û—Ç–∫—Ä—ã—Ç—ã–π –∫–ª—é—á** (Public key): –∏–∑ —Å—Å—ã–ª–∫–∏ (pbk)
   - **–ö—Ä–∞—Ç–∫–∏–π ID** (Short ID): –∏–∑ —Å—Å—ã–ª–∫–∏ (sid)
   - **Fingerprint**: `chrome` (–µ—Å–ª–∏ –µ—Å—Ç—å –ø–æ–ª–µ)
4. **Save** ‚Üí –≤–∫–ª—é—á–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –ó–µ–ª—ë–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤ Shadowrocket
- –ü—Ä–æ–≤–µ—Ä—å IP: https://ifconfig.me (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å IP —Å–µ—Ä–≤–µ—Ä–∞)

#### V2Box (iOS, –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π)

1. –°–∫–æ–ø–∏—Ä—É–π —Å—Å—ã–ª–∫—É –∏–∑ `make list`
2. –û—Ç–∫—Ä–æ–π V2Box ‚Üí **+** ‚Üí **Import from Clipboard**
3. –ò–ª–∏ **Scan QR Code**
4. –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî —Ä—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:
   - **Manual** ‚Üí **VLESS**
   - –ó–∞–ø–æ–ª–Ω–∏ –≤—Å–µ –ø–æ–ª—è –∫–∞–∫ –≤ Shadowrocket

### Android

#### v2rayNG (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –°–∫–æ–ø–∏—Ä—É–π —Å—Å—ã–ª–∫—É –∏–∑ `make list`
2. –û—Ç–∫—Ä–æ–π v2rayNG
3. –ù–∞–∂–º–∏ **+** ‚Üí **Import from Clipboard**
4. –ò–ª–∏ **Scan QR Code**
5. –í–∫–ª—é—á–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å

#### NekoBox

1. –°–∫–æ–ø–∏—Ä—É–π —Å—Å—ã–ª–∫—É –∏–∑ `make list`
2. –û—Ç–∫—Ä–æ–π NekoBox ‚Üí **+** ‚Üí **Import from Clipboard**

### Windows

#### v2rayN

1. –°–∫–æ–ø–∏—Ä—É–π —Å—Å—ã–ª–∫—É –∏–∑ `make list`
2. –û—Ç–∫—Ä–æ–π v2rayN
3. –ù–∞–∂–º–∏ **–°–µ—Ä–≤–µ—Ä—ã** ‚Üí **–ò–º–ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏–∑ –±—É—Ñ–µ—Ä–∞ –æ–±–º–µ–Ω–∞**
4. –ò–ª–∏ **–°–µ—Ä–≤–µ—Ä—ã** ‚Üí **–î–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä** ‚Üí –≤—Å—Ç–∞–≤—å —Å—Å—ã–ª–∫—É

#### Nekoray

1. –°–∫–æ–ø–∏—Ä—É–π —Å—Å—ã–ª–∫—É –∏–∑ `make list`
2. –û—Ç–∫—Ä–æ–π Nekoray ‚Üí **File** ‚Üí **Import from Clipboard**

### macOS

#### V2RayXS

1. –°–∫–æ–ø–∏—Ä—É–π —Å—Å—ã–ª–∫—É –∏–∑ `make list`
2. –û—Ç–∫—Ä–æ–π V2RayXS ‚Üí **Servers** ‚Üí **Import from Clipboard**

#### Nekoray

1. –°–∫–æ–ø–∏—Ä—É–π —Å—Å—ã–ª–∫—É –∏–∑ `make list`
2. –û—Ç–∫—Ä–æ–π Nekoray ‚Üí **File** ‚Üí **Import from Clipboard**

---

## üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
VLESS_VPN/
‚îú‚îÄ‚îÄ docker-compose.yml          # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Makefile                     # –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .env.example                 # –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îú‚îÄ‚îÄ .env                         # –¢–≤–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îú‚îÄ‚îÄ .gitignore                   # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ README.md                    # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ scripts/                     # –°–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ 00-install-dependencies.sh  # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ 00-prepare-vps.sh           # –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ VPS (—É—Å—Ç–∞—Ä–µ–ª–æ)
‚îÇ   ‚îú‚îÄ‚îÄ 01-setup-xray-reality.sh    # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Xray (—É—Å—Ç–∞—Ä–µ–ª–æ)
‚îÇ   ‚îú‚îÄ‚îÄ generate-config.sh          # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥–∞ –∏ –∫–ª—é—á–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ add-client.sh               # –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ remove-client.sh            # –£–¥–∞–ª–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ list-clients.sh             # –°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ rotate-keys.sh              # –†–æ—Ç–∞—Ü–∏—è –∫–ª—é—á–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ change-sni.sh               # –°–º–µ–Ω–∏—Ç—å SNI
‚îÇ   ‚îú‚îÄ‚îÄ change-sid.sh               # –°–º–µ–Ω–∏—Ç—å ShortID
‚îÇ   ‚îî‚îÄ‚îÄ diagnostics.sh              # –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
‚îÇ
‚îú‚îÄ‚îÄ config/                       # –ö–æ–Ω—Ñ–∏–≥ Xray (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è)
‚îÇ   ‚îú‚îÄ‚îÄ config.json                # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥
‚îÇ   ‚îî‚îÄ‚îÄ .keys                      # –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ (–ù–ï –ü–£–ë–õ–ò–ö–£–ô!)
‚îÇ
‚îú‚îÄ‚îÄ output/                        # –°—Å—ã–ª–∫–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤ (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è)
‚îÇ   ‚îî‚îÄ‚îÄ clients.txt                # –í—Å–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
‚îÇ
‚îî‚îÄ‚îÄ logs/                          # –õ–æ–≥–∏ Xray (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ)
```

---

## üêõ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
# –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
make diagnostics

# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
make status

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
make logs
```

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 1. –ü–æ—Ä—Ç 443 –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ö–ª–∏–µ–Ω—Ç –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è (timeout)
- `make diagnostics` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —á—Ç–æ –ø–æ—Ä—Ç –∑–∞–∫—Ä—ã—Ç

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å firewall –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
# –ú–Ω–æ–≥–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –±–ª–æ–∫–∏—Ä—É—é—Ç –ø–æ—Ä—Ç 443

# –ò—Å–ø–æ–ª—å–∑—É–π –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç
nano .env
# –ò–∑–º–µ–Ω–∏ LISTEN_PORT=443 –Ω–∞ LISTEN_PORT=8443

# –û—Ç–∫—Ä–æ–π –Ω–æ–≤—ã–π –ø–æ—Ä—Ç
ufw allow 8443/tcp

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π –∫–æ–Ω—Ñ–∏–≥
rm -rf config output
make install
```

#### 2. –ö–ª–∏–µ–Ω—Ç –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä—å:**
1. –í—Å–µ –ø–æ–ª—è –≤ –∫–ª–∏–µ–Ω—Ç–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
2. –ö–ª—é—á–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç (Public Key, Short ID)
3. SNI —Å–æ–≤–ø–∞–¥–∞–µ—Ç
4. –ü–æ—Ä—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –°–≤–µ—Ä–∏ –∫–ª—é—á–∏
cat config/.keys
make list

# –ï—Å–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç - –ø–µ—Ä–µ—Å–æ–∑–¥–∞–π
rm -rf config output
make install
```

#### 3. –û—à–∏–±–∫–∞ "permission denied" –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

**–°–∏–º–ø—Ç–æ–º—ã:**
- `listen tcp 0.0.0.0:443: bind: permission denied`

**–†–µ—à–µ–Ω–∏–µ:**
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–∂–µ –∑–∞–ø—É—â–µ–Ω –æ—Ç root, –ø—Ä–æ–≤–µ—Ä—å:
```bash
docker ps | grep xray
docker logs xray-vless
```

#### 4. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
- `docker ps` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `Restarting`

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏
docker logs xray-vless --tail 100

# –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Ñ–∏–≥
docker exec xray-vless xray -test -c /etc/xray/config.json

# –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ - –ø–µ—Ä–µ—Å–æ–∑–¥–∞–π –∫–æ–Ω—Ñ–∏–≥
rm -rf config output
make install
```

#### 5. –°—Å—ã–ª–∫–∞ –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ –∫–ª–∏–µ–Ω—Ç

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Å—å —á—Ç–æ —Å—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é (–æ—Ç `vless://` –¥–æ `#VLESS-X`)
- –ü–æ–ø—Ä–æ–±—É–π —Ä—É—á–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É
- –ü—Ä–æ–≤–µ—Ä—å –≤–µ—Ä—Å–∏—é –∫–ª–∏–µ–Ω—Ç–∞ (–æ–±–Ω–æ–≤–∏ –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ - –ø—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
docker logs xray-vless --tail 50 -f

# –ï—Å–ª–∏ –≤–∏–¥–∏—à—å –ø–æ–ø—ã—Ç–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è - —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç
# –ï—Å–ª–∏ –Ω–µ—Ç - –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Å–µ—Ç–∏/firewall
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Firewall (UFW)

Firewall –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ `make install-deps`, –Ω–æ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤—Ä—É—á–Ω—É—é:

```bash
# –û—Ç–∫—Ä—ã—Ç—å –ø–æ—Ä—Ç—ã
ufw allow 22/tcp    # SSH
ufw allow 443/tcp   # VLESS

# –í–∫–ª—é—á–∏—Ç—å
ufw enable

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
ufw status verbose
```

### –†–æ—Ç–∞—Ü–∏—è –∫–ª—é—á–µ–π

**–í–∞–∂–Ω–æ:** –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –º–µ–Ω—è–π –∫–ª—é—á–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

```bash
# –†–æ—Ç–∞—Ü–∏—è –∫–ª—é—á–µ–π (‚ö†Ô∏è –≤—Å–µ —Å—Ç–∞—Ä—ã–µ —Å—Å—ã–ª–∫–∏ –ø–µ—Ä–µ—Å—Ç–∞–Ω—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å!)
make rotate-keys
make restart
make list  # –ü–æ–ª—É—á–∏ –Ω–æ–≤—ã–µ —Å—Å—ã–ª–∫–∏

# –†–∞–∑–¥–∞–π –Ω–æ–≤—ã–µ —Å—Å—ã–ª–∫–∏ –≤—Å–µ–º –∫–ª–∏–µ–Ω—Ç–∞–º
```

### –°–º–µ–Ω–∞ SNI

–ï—Å–ª–∏ SNI –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω, —Å–º–µ–Ω–∏ –Ω–∞ –¥—Ä—É–≥–æ–π:

```bash
make change-sni SNI=login.microsoftonline.com
make restart
make list  # –û–±–Ω–æ–≤–∏ —Å—Å—ã–ª–∫–∏
```

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ù–µ –ø—É–±–ª–∏–∫—É–π** —Ñ–∞–π–ª—ã `config/.keys` –∏ `output/clients.txt` –≤ –ø—É–±–ª–∏—á–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö
2. **–†–æ—Ç–∞—Ü–∏—è –∫–ª—é—á–µ–π** —Ä–∞–∑ –≤ –º–µ—Å—è—Ü
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤** –Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ** Docker –æ–±—Ä–∞–∑–∞ Xray –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏

---

## üìù –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ –¥—Ä—É–≥–æ–π —Å–µ—Ä–≤–µ—Ä

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ù–∞ —Å—Ç–∞—Ä–æ–º —Å–µ—Ä–≤–µ—Ä–µ
cd ~/VLESS_VPN
tar -czf vless-backup.tar.gz config/ output/ .env
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
# –ù–∞ –Ω–æ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ
git clone https://github.com/TBucTeP/VLESS_VPN.git
cd VLESS_VPN

# –°–∫–æ–ø–∏—Ä—É–π backup
scp root@old-server:~/VLESS_VPN/vless-backup.tar.gz .

# –†–∞—Å–ø–∞–∫—É–π
tar -xzf vless-backup.tar.gz

# –ó–∞–ø—É—Å—Ç–∏
make install-deps  # –ï—Å–ª–∏ –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
make up
```

**–í–∞–∂–Ω–æ:** IP –≤ —Å—Å—ã–ª–∫–∞—Ö –∏–∑–º–µ–Ω–∏—Ç—Å—è! –û–±–Ω–æ–≤–∏ —Å—Å—ã–ª–∫–∏:
```bash
make list  # –ü–æ–∫–∞–∂–µ—Ç —Å—Å—ã–ª–∫–∏ —Å –Ω–æ–≤—ã–º IP
```

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
cd ~/VLESS_VPN

# –û–±–Ω–æ–≤–∏ –∫–æ–¥
git pull

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
make restart

# –ò–ª–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–π –∫–æ–Ω—Ñ–∏–≥ (–µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å —Å–∫—Ä–∏–ø—Ç—ã)
rm -rf config output
make install
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **VLESS**: –ü—Ä–æ—Ç–æ–∫–æ–ª VPN (–±–µ–∑ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è, –±—ã—Å—Ç—Ä—ã–π)
- **REALITY**: –ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ —Ç—Ä–∞—Ñ–∏–∫–∞ –ø–æ–¥ —Ä–µ–∞–ª—å–Ω—ã–π —Å–∞–π—Ç (Microsoft, Google)
- **Xray-core**: –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å (—Ñ–æ—Ä–∫ V2Ray)
- **Docker**: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç REALITY

1. –ö–ª–∏–µ–Ω—Ç –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
2. –°–µ—Ä–≤–µ—Ä –º–∞—Å–∫–∏—Ä—É–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ –ø–æ–¥ —Ä–µ–∞–ª—å–Ω—ã–π —Å–∞–π—Ç (SNI)
3. –î–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –æ–±—ã—á–Ω–æ–µ HTTPS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
4. –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç–ª–∏—á–∏—Ç—å –æ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Xray-core GitHub](https://github.com/XTLS/Xray-core)
- [REALITY –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://github.com/XTLS/Xray-core/discussions/1295)
- [VLESS –ø—Ä–æ—Ç–æ–∫–æ–ª](https://github.com/XTLS/Xray-core/issues/263)

---

## ‚ùì FAQ

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç?**  
A: –î–∞, –∏–∑–º–µ–Ω–∏ `LISTEN_PORT` –≤ `.env` –∏ –æ—Ç–∫—Ä–æ–π –ø–æ—Ä—Ç –≤ firewall.

**Q: –°–∫–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å?**  
A: –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–π `make add`.

**Q: –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ä—Ç 443?**  
A: –ò—Å–ø–æ–ª—å–∑—É–π –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç (8443, 4443, 2053) –≤ `.env`.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞ VPS –±–µ–∑ root?**  
A: –ù–µ—Ç, –Ω—É–∂–µ–Ω root –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –ø–æ—Ä—Ç—É 443.

**Q: –ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å Xray?**  
A: `docker compose pull && docker compose up -d`

**Q: –ë–µ–∑–æ–ø–∞—Å–Ω–æ –ª–∏ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫–∏?**  
A: –ù–µ—Ç! –°—Å—ã–ª–∫–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏. –î–µ–ª–∏—Å—å —Ç–æ–ª—å–∫–æ —Å –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–º–∏ –ª—é–¥—å–º–∏.

---

## üìÑ License

MIT

---

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ó–∞–ø—É—Å—Ç–∏ `make diagnostics`
2. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏: `make logs`
3. –°–æ–∑–¥–∞–π issue –Ω–∞ GitHub —Å –≤—ã–≤–æ–¥–æ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

---

**–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —Å–≤–æ–±–æ–¥—ã –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞**
